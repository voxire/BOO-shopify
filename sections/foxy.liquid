{% comment %}
  Hero + 2 Glass Cards (like screenshot)
  - Background image (cover) with position controls
  - Optional foreground cutout (separate X/Y + scale)
  - Big title + button
  - NO boxes/cards
{% endcomment %}

{% assign id = section.id | replace: '_','' | downcase %}

{% style %}
  .gm2n-{{ id }}{
    position:relative;
    width:100%;
    min-height:{{ section.settings.min_height }}px;
    overflow:hidden;
    border-radius:{{ section.settings.section_radius }}px;
    background: {{ section.settings.bg_fallback }};
  }

  .gm2n-{{ id }}__bg{
    position:absolute; inset:0;
    width:100%; height:100%;
    object-fit:cover;
    object-position: {{ section.settings.bg_pos_x }}% {{ section.settings.bg_pos_y }}%;
    z-index:0;
    transform: scale({{ section.settings.bg_zoom | divided_by: 100.0 }});
  }

  .gm2n-{{ id }}__overlay{
    position:absolute; inset:0;
    z-index:1;
    background: rgba(0,0,0,{{ section.settings.overlay_opacity | divided_by: 100.0 }});
    pointer-events:none;
  }

  .gm2n-{{ id }}__wrap{
    position:relative;
    z-index:4;
    min-height:{{ section.settings.min_height }}px;
    padding:{{ section.settings.outer_padding }}px;
  }

  .gm2n-{{ id }}__top{
    position:absolute;
    left:50%;
    top:{{ section.settings.title_y }}%;
    transform: translate(-50%, -50%);
    z-index:2;
    display:flex;
    flex-direction:column;
    align-items:center;
    text-align:center;
    width: min(1200px, 92%);
    pointer-events:auto;
  }

  .gm2n-{{ id }}__title{
    margin:0;
    color: {{ section.settings.heading_color }};
    font-size: clamp({{ section.settings.heading_size_min }}px, {{ section.settings.heading_size_vw }}vw, {{ section.settings.heading_size_max }}px);
    font-weight:800;
    letter-spacing: {{ section.settings.heading_letter_spacing | times: 0.01 }}em;
    line-height:1;
    text-shadow: 0 10px 40px rgba(0,0,0,.28);
    user-select:none;
  }

  .gm2n-{{ id }}__title--split{
    display:flex;
    align-items:center;
    justify-content:center;
    gap: clamp(26px, 9vw, 220px);
    white-space:nowrap;
  }

  .gm2n-{{ id }}__btn{
    margin-top:{{ section.settings.button_mt }}px;
    display:inline-flex;
    align-items:center;
    justify-content:center;
    padding: 10px 18px;
    border-radius:999px;
    border:1px solid rgba(255,255,255,.22);
    background: rgba(255,255,255,.92);
    color:#111;
    font-weight:700;
    font-size:13px;
    text-decoration:none;
    box-shadow: 0 16px 40px rgba(0,0,0,.18);
    transition: transform .2s ease, box-shadow .2s ease, background .2s ease;
  }
  .gm2n-{{ id }}__btn:hover{
    transform: translateY(-2px);
    box-shadow: 0 22px 55px rgba(0,0,0,.22);
    background: rgba(255,255,255,1);
  }

  .gm2n-{{ id }}__fg{
    position:absolute;
    left:{{ section.settings.fg_x }}%;
    top:{{ section.settings.fg_y }}%;
    transform: translate(-50%, -50%) scale({{ section.settings.fg_scale | divided_by: 100.0 }});
    width: min({{ section.settings.fg_width }}px, 92%);
    height:auto;
    object-fit:contain;
    z-index:10;
    opacity: {{ section.settings.fg_opacity | divided_by: 100.0 }};
    pointer-events:none;
    filter: drop-shadow(0 24px 40px rgba(0,0,0,.28));
  }

  @media (max-width: 749px){
    .gm2n-{{ id }}{
      min-height:{{ section.settings.min_height_mobile }}px;
      border-radius:{{ section.settings.section_radius_mobile }}px;
    }

    .gm2n-{{ id }}__wrap{
      min-height:{{ section.settings.min_height_mobile }}px;
      padding:{{ section.settings.outer_padding_mobile }}px;
    }

    .gm2n-{{ id }}__top{
      top:{{ section.settings.title_y_mobile }}%;
      width:94%;
    }

    .gm2n-{{ id }}__fg{
      left:{{ section.settings.fg_x_mobile }}%;
      top:{{ section.settings.fg_y_mobile }}%;
      width: min({{ section.settings.fg_width_mobile }}px, 92%);
      transform: translate(-50%, -50%) scale({{ section.settings.fg_scale_mobile | divided_by: 100.0 }});
    }
  }
{% endstyle %}

<section class="gm2n-{{ id }}">
  {% if section.settings.background_image != blank %}
    <img
      class="gm2n-{{ id }}__bg"
      src="{{ section.settings.background_image | image_url: width: 2400 }}"
      alt="{{ section.settings.background_image.alt | escape }}"
      loading="lazy"
      width="{{ section.settings.background_image.width }}"
      height="{{ section.settings.background_image.height }}"
    >
  {% endif %}

  <div class="gm2n-{{ id }}__overlay" aria-hidden="true"></div>

  <div class="gm2n-{{ id }}__top">
    {% if section.settings.title_left != blank or section.settings.title_right != blank %}
      <h1 class="gm2n-{{ id }}__title gm2n-{{ id }}__title--split">
        <span>{{ section.settings.title_left }}</span>
        <span>{{ section.settings.title_right }}</span>
      </h1>
    {% else %}
      {% if section.settings.big_title != blank %}
        <h1 class="gm2n-{{ id }}__title">{{ section.settings.big_title }}</h1>
      {% endif %}
    {% endif %}

    {% if section.settings.button_text != blank %}
      {% if section.settings.button_link != blank %}
        <a class="gm2n-{{ id }}__btn" href="{{ section.settings.button_link }}">{{ section.settings.button_text }}</a>
      {% else %}
        <span class="gm2n-{{ id }}__btn">{{ section.settings.button_text }}</span>
      {% endif %}
    {% endif %}
  </div>

  {% if section.settings.foreground_image != blank %}
    <img
      class="gm2n-{{ id }}__fg"
      src="{{ section.settings.foreground_image | image_url: width: 2400 }}"
      alt=""
      loading="lazy"
    >
  {% endif %}

  <div class="gm2n-{{ id }}__wrap"></div>
</section>

{% schema %}
{
  "name": "Hero (no boxes)",
  "tag": "section",
  "settings": [
    { "type": "image_picker", "id": "background_image", "label": "Background image" },
    { "type": "image_picker", "id": "foreground_image", "label": "Foreground image (cutout PNG)" },

    { "type": "color", "id": "bg_fallback", "label": "Background fallback", "default": "#2b0a5a" },
    { "type": "range", "id": "bg_pos_x", "label": "Background position X", "min": 0, "max": 100, "step": 1, "unit": "%", "default": 50 },
    { "type": "range", "id": "bg_pos_y", "label": "Background position Y", "min": 0, "max": 100, "step": 1, "unit": "%", "default": 15 },
    { "type": "range", "id": "overlay_opacity", "label": "Overlay opacity", "min": 0, "max": 60, "step": 1, "unit": "%", "default": 0 },
    { "type": "range", "id": "bg_zoom", "label": "Background zoom", "min": 100, "max": 160, "step": 1, "unit": "%", "default": 100 },

    { "type": "header", "content": "Section layout" },
    { "type": "range", "id": "min_height", "label": "Section min height (desktop)", "min": 1000, "max": 3000, "step": 20, "unit": "px", "default": 1000 },
    { "type": "range", "id": "min_height_mobile", "label": "Section min height (mobile)", "min": 420, "max": 1100, "step": 20, "unit": "px", "default": 780 },
    { "type": "range", "id": "outer_padding", "label": "Outer padding (desktop)", "min": 0, "max": 90, "step": 2, "unit": "px", "default": 34 },
    { "type": "range", "id": "outer_padding_mobile", "label": "Outer padding (mobile)", "min": 0, "max": 80, "step": 2, "unit": "px", "default": 18 },
    { "type": "range", "id": "section_radius", "label": "Section radius (desktop)", "min": 0, "max": 60, "step": 2, "unit": "px", "default": 26 },
    { "type": "range", "id": "section_radius_mobile", "label": "Section radius (mobile)", "min": 0, "max": 60, "step": 2, "unit": "px", "default": 18 },

    { "type": "header", "content": "Title + button" },
    { "type": "range", "id": "title_y", "label": "Title position Y (desktop)", "min": 0, "max": 70, "step": 1, "unit": "%", "default": 22 },
    { "type": "range", "id": "title_y_mobile", "label": "Title position Y (mobile)", "min": 0, "max": 70, "step": 1, "unit": "%", "default": 18 },

    { "type": "text", "id": "big_title", "label": "Big title text (fallback)", "default": "GriBoo" },
    { "type": "text", "id": "title_left", "label": "Title left", "default": "Gri" },
    { "type": "text", "id": "title_right", "label": "Title right", "default": "Boo" },

    { "type": "color", "id": "heading_color", "label": "Title color", "default": "#ffffff" },
    { "type": "range", "id": "heading_size_min", "label": "Title size min", "min": 30, "max": 160, "step": 2, "unit": "px", "default": 56 },
    { "type": "range", "id": "heading_size_vw", "label": "Title size vw", "min": 4, "max": 18, "step": 1, "unit": "vw", "default": 10 },
    { "type": "range", "id": "heading_size_max", "label": "Title size max", "min": 100, "max": 300, "step": 2, "unit": "px", "default": 190 },
    { "type": "range", "id": "heading_letter_spacing", "label": "Title letter spacing", "min": -10, "max": 20, "step": 1, "unit": "em", "default": 0 },

    { "type": "text", "id": "button_text", "label": "Button text", "default": "Start Trouble" },
    { "type": "url", "id": "button_link", "label": "Button link" },
    { "type": "range", "id": "button_mt", "label": "Button spacing top", "min": 0, "max": 60, "step": 1, "unit": "px", "default": 12 },

    { "type": "header", "content": "Foreground (optional)" },
    { "type": "range", "id": "fg_opacity", "label": "Foreground opacity", "min": 0, "max": 100, "step": 5, "unit": "%", "default": 100 },
    { "type": "range", "id": "fg_width", "label": "Foreground width (px)", "min": 120, "max": 1600, "step": 20, "unit": "px", "default": 520 },
    { "type": "range", "id": "fg_x", "label": "Foreground position X (%)", "min": 0, "max": 100, "step": 1, "unit": "%", "default": 78 },
    { "type": "range", "id": "fg_y", "label": "Foreground position Y (%)", "min": 0, "max": 100, "step": 1, "unit": "%", "default": 82 },
    { "type": "range", "id": "fg_scale", "label": "Foreground scale (desktop)", "min": 30, "max": 220, "step": 5, "unit": "%", "default": 100 },

    { "type": "range", "id": "fg_width_mobile", "label": "Foreground width mobile (px)", "min": 120, "max": 1200, "step": 20, "unit": "px", "default": 420 },
    { "type": "range", "id": "fg_x_mobile", "label": "Foreground X mobile (%)", "min": 0, "max": 100, "step": 1, "unit": "%", "default": 50 },
    { "type": "range", "id": "fg_y_mobile", "label": "Foreground Y mobile (%)", "min": 0, "max": 100, "step": 1, "unit": "%", "default": 86 },
    { "type": "range", "id": "fg_scale_mobile", "label": "Foreground scale (mobile)", "min": 30, "max": 220, "step": 5, "unit": "%", "default": 100 }
  ],
  "presets": [
    { "name": "Foxy (no boxes)" }
  ]
}
{% endschema %}
